{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LavanyaChakriMoksha\\\\react-list-app\\\\src\\\\home\\\\Home.jsx\";\nimport React from 'react';\nimport ReactPaginate from 'react-paginate';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePageClick = e => {\n      const selectedPage = e.selected;\n      const offset = selectedPage * this.state.perPage;\n      this.setState({\n        currentPage: selectedPage,\n        offset: offset\n      }, () => {\n        this.receivedData();\n        console.log(\"currentPage: \", this.state.currentPage);\n        window.sessionStorage.setItem('current', this.state.currentPage);\n      });\n    };\n\n    this.state = {\n      datalist: [],\n      offset: 0,\n      postData: [],\n      perPage: 20,\n      currentPage: 0\n    };\n    this.handlePageClick = this.handlePageClick.bind(this);\n  }\n\n  componentDidMount() {\n    const requestOptions = {\n      method: 'POST'\n    };\n    fetch('http://nyx.vima.ekt.gr:3000/api/books?page=1&itemsPerPage=20', requestOptions).then(response => response.json()).then(data => {\n      console.log(\"data: \", data);\n    });\n\n    if (window.sessionStorage.getItem('current')) {\n      // const offset = window.sessionStorage.getItem('current') * this.state.perPage;\n      this.setState({\n        currentPage: window.sessionStorage.getItem('current') // offset: offset\n\n      }, () => {\n        this.receivedData();\n      });\n    } else {\n      this.receivedData();\n    }\n  }\n\n  receivedData() {\n    fetch('https://jsonplaceholder.typicode.com/photos').then(response => response.json()).then(res => {\n      var res = {\n        \"books\": [{\n          \"id\": 2086,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n          \"book_publication_year\": 1529,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 104\n        }, {\n          \"id\": 2060,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Διήγησις εις τας πράξεις του περιβοήτου στρατηγού των ρωμαίων μεγάλου Βελισαρίου\",\n          \"book_publication_year\": 1548,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 32\n        }, {\n          \"id\": 2087,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n          \"book_publication_year\": 1553,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 104\n        }, {\n          \"id\": 2061,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Διήγησις εις τας πράξεις του περιβοήτου στρατηγού των Ρωμαίων μεγάλου Βελισαρίου\",\n          \"book_publication_year\": 1554,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 0\n        }, {\n          \"id\": 2062,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Διήγησις εις τας πράξεις του περιβοήτου στρατηγού των ρωμαίων μεγάλου Βελισαρίου\",\n          \"book_publication_year\": 1562,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 32\n        }, {\n          \"id\": 2063,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Διήγησις εις τας πράξεις του περιβοήτου στρατηγού των ρωμαίων μεγάλου Βελισαρίου\",\n          \"book_publication_year\": 1567,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 28\n        }, {\n          \"id\": 2065,\n          \"book_author\": [\"Αχέλης, Αντώνιος\"],\n          \"book_title\": \"Βιβλίον --- περιέχον της Μάλτας πολιορκίαν\",\n          \"book_publication_year\": 1571,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 84\n        }, {\n          \"id\": 2064,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Διήγησις εις τας πράξεις του περιβοήτου στρατηγού των ρωμαίων μεγάλου Βελισαρίου\",\n          \"book_publication_year\": 1577,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 32\n        }, {\n          \"id\": 2088,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n          \"book_publication_year\": 1600,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 92\n        }, {\n          \"id\": 2089,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n          \"book_publication_year\": 1603,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 92\n        }, {\n          \"id\": 2066,\n          \"book_author\": [\"Πολίτης, Ματθαίος\"],\n          \"book_title\": \"Βίος Δημητρίου Βασιλέως Μοσχοβίας\",\n          \"book_publication_year\": 1612,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 24\n        }, {\n          \"id\": 2079,\n          \"book_author\": [\"Άγγελος, Χριστόφορος (†1638)\"],\n          \"book_title\": \"Πόνησις Χριστοφόρου του Αγγέλου Έλληνος του πολλών πληγών και Μαστίγων γευσαμένου αδίκως παρά των Τούρκων διά την εις Χριστόν Πίστιν\",\n          \"book_publication_year\": 1617,\n          \"book_publication_country\": \"Αγγλία\",\n          \"book_publication_city\": \"Οξφόρδη\",\n          \"book_pages\": 12\n        }, {\n          \"id\": 2080,\n          \"book_author\": [\"Άγγελος, Χριστόφορος (†1638)\"],\n          \"book_title\": \"A Grecian who tasted of many stripes and torments inflicted by the Turkes for the faith\",\n          \"book_publication_year\": 1617,\n          \"book_publication_country\": \"Αγγλία\",\n          \"book_publication_city\": \"Οξφόρδη\",\n          \"book_pages\": 16\n        }, {\n          \"id\": 2076,\n          \"book_author\": [\"Άγγελος, Χριστόφορος (†1638)\"],\n          \"book_title\": \"A Grecian who tasted of many stripes and torments inflicted by the Turkes for the faith\",\n          \"book_publication_year\": 1618,\n          \"book_publication_country\": \"Αγγλία\",\n          \"book_publication_city\": \"Οξφόρδη\",\n          \"book_pages\": 16\n        }, {\n          \"id\": 2069,\n          \"book_author\": [\"Άγγελος, Χριστόφορος (†1638)\"],\n          \"book_title\": \"Εγχειρίδιον περί της καταστάσεως των σήμερον ευρισκομένων Ελλήνων\",\n          \"book_publication_year\": 1619,\n          \"book_publication_country\": \"Αγγλία\",\n          \"book_publication_city\": \"Καίμπριτζ\",\n          \"book_pages\": 70\n        }, {\n          \"id\": 2075,\n          \"book_author\": [\"Άγγελος, Χριστόφορος (†1638)\"],\n          \"book_title\": \"Enchiridion de institutis Graecorum\",\n          \"book_publication_year\": 1619,\n          \"book_publication_country\": \"Αγγλία\",\n          \"book_publication_city\": \"Καίμπριτζ\",\n          \"book_pages\": 64\n        }, {\n          \"id\": 2084,\n          \"book_author\": [\"Άγγελος, Χριστόφορος (†1638)\"],\n          \"book_title\": \"A Grecian who tasted of many stripes and torments inflicted by the Turkes for the faith\",\n          \"book_publication_year\": 1620,\n          \"book_publication_country\": \"Αγγλία\",\n          \"book_publication_city\": \"Λονδίνο\",\n          \"book_pages\": 18\n        }, {\n          \"id\": 2090,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n          \"book_publication_year\": 1620,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 126\n        }, {\n          \"id\": 2083,\n          \"book_author\": [\"Άγγελος, Χριστόφορος (†1638)\"],\n          \"book_title\": \"Of the conditions of the life in which the Greekes now live\",\n          \"book_publication_year\": 1625,\n          \"book_publication_country\": \"Αγγλία\",\n          \"book_publication_city\": \"Λονδίνο\",\n          \"book_pages\": 10\n        }, {\n          \"id\": 2091,\n          \"book_author\": [\"Ανώνυμος\"],\n          \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n          \"book_publication_year\": 1630,\n          \"book_publication_country\": \"Ιταλία\",\n          \"book_publication_city\": \"Βενετία\",\n          \"book_pages\": 126\n        }],\n        \"count\": 2425\n      }; //const data = res.books;\n      // const slice = data.slice(this.state.offset;\n      //this.state.offset + this.state.perPage);\n      //console.log(\"data: \",slice);\n\n      const postData = res.books.map(pd => /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 48\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        key: pd.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 15\n        }\n      }, pd.book_title)));\n      this.setState({\n        pageCount: res.count,\n        postData\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"page-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }\n    }, this.state.postData), /*#__PURE__*/React.createElement(ReactPaginate, {\n      previousLabel: \"prev\",\n      nextLabel: \"next\",\n      breakLabel: \"...\",\n      breakClassName: \"break-me\",\n      pageCount: this.state.pageCount,\n      marginPagesDisplayed: 2,\n      pageRangeDisplayed: 5,\n      onPageChange: this.handlePageClick,\n      containerClassName: \"pagination\",\n      subContainerClassName: \"pages pagination\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nexport { Home };","map":{"version":3,"sources":["C:/Users/LavanyaChakriMoksha/react-list-app/src/home/Home.jsx"],"names":["React","ReactPaginate","Home","Component","constructor","props","handlePageClick","e","selectedPage","selected","offset","state","perPage","setState","currentPage","receivedData","console","log","window","sessionStorage","setItem","datalist","postData","bind","componentDidMount","requestOptions","method","fetch","then","response","json","data","getItem","res","books","map","pd","id","book_title","pageCount","count","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactPaginate from 'react-paginate';\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      datalist: [],\n      offset: 0,\n      postData: [],\n      perPage: 20,\n      currentPage: 0\n      };\n      this.handlePageClick = this.handlePageClick.bind(this);\n  }\n\n  componentDidMount() {\n    const requestOptions = {\n        method: 'POST'                 \n    };\n    fetch('http://nyx.vima.ekt.gr:3000/api/books?page=1&itemsPerPage=20', requestOptions)\n        .then(response => response.json())\n        .then(data => {\n          console.log(\"data: \",data);\n        });\n    if(window.sessionStorage.getItem('current')){\n    // const offset = window.sessionStorage.getItem('current') * this.state.perPage;\n      this.setState({\n          currentPage: window.sessionStorage.getItem('current'),\n        // offset: offset\n      }, () => {\n          this.receivedData();\n      });\n    }else {\n      this.receivedData();\n    }\n\n\n  }\nreceivedData() {\n  fetch('https://jsonplaceholder.typicode.com/photos')\n        .then(response => response.json())\n        .then(res => {\n          var res = {\n            \"books\": [\n                {\n                    \"id\": 2086,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n                    \"book_publication_year\": 1529,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 104\n                },\n                {\n                    \"id\": 2060,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Διήγησις εις τας πράξεις του περιβοήτου στρατηγού των ρωμαίων μεγάλου Βελισαρίου\",\n                    \"book_publication_year\": 1548,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 32\n                },\n                {\n                    \"id\": 2087,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n                    \"book_publication_year\": 1553,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 104\n                },\n                {\n                    \"id\": 2061,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Διήγησις εις τας πράξεις του περιβοήτου στρατηγού των Ρωμαίων μεγάλου Βελισαρίου\",\n                    \"book_publication_year\": 1554,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 0\n                },\n                {\n                    \"id\": 2062,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Διήγησις εις τας πράξεις του περιβοήτου στρατηγού των ρωμαίων μεγάλου Βελισαρίου\",\n                    \"book_publication_year\": 1562,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 32\n                },\n                {\n                    \"id\": 2063,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Διήγησις εις τας πράξεις του περιβοήτου στρατηγού των ρωμαίων μεγάλου Βελισαρίου\",\n                    \"book_publication_year\": 1567,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 28\n                },\n                {\n                    \"id\": 2065,\n                    \"book_author\": [\n                        \"Αχέλης, Αντώνιος\"\n                    ],\n                    \"book_title\": \"Βιβλίον --- περιέχον της Μάλτας πολιορκίαν\",\n                    \"book_publication_year\": 1571,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 84\n                },\n                {\n                    \"id\": 2064,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Διήγησις εις τας πράξεις του περιβοήτου στρατηγού των ρωμαίων μεγάλου Βελισαρίου\",\n                    \"book_publication_year\": 1577,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 32\n                },\n                {\n                    \"id\": 2088,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n                    \"book_publication_year\": 1600,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 92\n                },\n                {\n                    \"id\": 2089,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n                    \"book_publication_year\": 1603,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 92\n                },\n                {\n                    \"id\": 2066,\n                    \"book_author\": [\n                        \"Πολίτης, Ματθαίος\"\n                    ],\n                    \"book_title\": \"Βίος Δημητρίου Βασιλέως Μοσχοβίας\",\n                    \"book_publication_year\": 1612,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 24\n                },\n                {\n                    \"id\": 2079,\n                    \"book_author\": [\n                        \"Άγγελος, Χριστόφορος (†1638)\"\n                    ],\n                    \"book_title\": \"Πόνησις Χριστοφόρου του Αγγέλου Έλληνος του πολλών πληγών και Μαστίγων γευσαμένου αδίκως παρά των Τούρκων διά την εις Χριστόν Πίστιν\",\n                    \"book_publication_year\": 1617,\n                    \"book_publication_country\": \"Αγγλία\",\n                    \"book_publication_city\": \"Οξφόρδη\",\n                    \"book_pages\": 12\n                },\n                {\n                    \"id\": 2080,\n                    \"book_author\": [\n                        \"Άγγελος, Χριστόφορος (†1638)\"\n                    ],\n                    \"book_title\": \"A Grecian who tasted of many stripes and torments inflicted by the Turkes for the faith\",\n                    \"book_publication_year\": 1617,\n                    \"book_publication_country\": \"Αγγλία\",\n                    \"book_publication_city\": \"Οξφόρδη\",\n                    \"book_pages\": 16\n                },\n                {\n                    \"id\": 2076,\n                    \"book_author\": [\n                        \"Άγγελος, Χριστόφορος (†1638)\"\n                    ],\n                    \"book_title\": \"A Grecian who tasted of many stripes and torments inflicted by the Turkes for the faith\",\n                    \"book_publication_year\": 1618,\n                    \"book_publication_country\": \"Αγγλία\",\n                    \"book_publication_city\": \"Οξφόρδη\",\n                    \"book_pages\": 16\n                },\n                {\n                    \"id\": 2069,\n                    \"book_author\": [\n                        \"Άγγελος, Χριστόφορος (†1638)\"\n                    ],\n                    \"book_title\": \"Εγχειρίδιον περί της καταστάσεως των σήμερον ευρισκομένων Ελλήνων\",\n                    \"book_publication_year\": 1619,\n                    \"book_publication_country\": \"Αγγλία\",\n                    \"book_publication_city\": \"Καίμπριτζ\",\n                    \"book_pages\": 70\n                },\n                {\n                    \"id\": 2075,\n                    \"book_author\": [\n                        \"Άγγελος, Χριστόφορος (†1638)\"\n                    ],\n                    \"book_title\": \"Enchiridion de institutis Graecorum\",\n                    \"book_publication_year\": 1619,\n                    \"book_publication_country\": \"Αγγλία\",\n                    \"book_publication_city\": \"Καίμπριτζ\",\n                    \"book_pages\": 64\n                },\n                {\n                    \"id\": 2084,\n                    \"book_author\": [\n                        \"Άγγελος, Χριστόφορος (†1638)\"\n                    ],\n                    \"book_title\": \"A Grecian who tasted of many stripes and torments inflicted by the Turkes for the faith\",\n                    \"book_publication_year\": 1620,\n                    \"book_publication_country\": \"Αγγλία\",\n                    \"book_publication_city\": \"Λονδίνο\",\n                    \"book_pages\": 18\n                },\n                {\n                    \"id\": 2090,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n                    \"book_publication_year\": 1620,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 126\n                },\n                {\n                    \"id\": 2083,\n                    \"book_author\": [\n                        \"Άγγελος, Χριστόφορος (†1638)\"\n                    ],\n                    \"book_title\": \"Of the conditions of the life in which the Greekes now live\",\n                    \"book_publication_year\": 1625,\n                    \"book_publication_country\": \"Αγγλία\",\n                    \"book_publication_city\": \"Λονδίνο\",\n                    \"book_pages\": 10\n                },\n                {\n                    \"id\": 2091,\n                    \"book_author\": [\n                        \"Ανώνυμος\"\n                    ],\n                    \"book_title\": \"Ο Αλέξανδρος ο Μακεδών\",\n                    \"book_publication_year\": 1630,\n                    \"book_publication_country\": \"Ιταλία\",\n                    \"book_publication_city\": \"Βενετία\",\n                    \"book_pages\": 126\n                }\n            ],\n            \"count\": 2425\n        };\n          //const data = res.books;\n          // const slice = data.slice(this.state.offset;\n          //this.state.offset + this.state.perPage);\n          //console.log(\"data: \",slice);\n          const postData = res.books.map(pd => <React.Fragment>\n              <li key={pd.id}>{pd.book_title}</li>\n          </React.Fragment>);\n\n          this.setState({\n              pageCount: res.count,\n              \n              postData\n          })\n        });\n       \n    }\n  handlePageClick = (e) => {\n        const selectedPage = e.selected;\n        const offset = selectedPage * this.state.perPage;\n\n        this.setState({\n            currentPage: selectedPage,\n            offset: offset\n        }, () => {\n            this.receivedData();\n            console.log(\"currentPage: \",this.state.currentPage);\n            window.sessionStorage.setItem('current',this.state.currentPage);\n        });\n\n    };\n\n  render() {\n    return (\n      <div >\n          <ul className=\"page-list\">{this.state.postData}</ul>\n          <ReactPaginate\n              previousLabel={\"prev\"}\n              nextLabel={\"next\"}\n              breakLabel={\"...\"}\n              breakClassName={\"break-me\"}\n              pageCount={this.state.pageCount}\n              marginPagesDisplayed={2}\n              pageRangeDisplayed={5}\n              onPageChange={this.handlePageClick}\n              containerClassName={\"pagination\"}\n              subContainerClassName={\"pages pagination\"}\n              activeClassName={\"active\"}/>\n      </div>\n\n    );\n  }\n}\nexport { Home };"]},"metadata":{},"sourceType":"module"}